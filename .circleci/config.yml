version: 2
jobs:
  flake8:
    docker:
      - image: circleci/python:2.7
    steps:
      - checkout
      - run:
          command: |
            sudo pip install pip setuptools tox virtualenv
      - run:
          command: |
            tox -e flake8
  readme:
    docker:
      - image: circleci/python:2.7
    steps:
      - checkout
      - run:
          command: |
            sudo pip install pip setuptools tox virtualenv
      - run:
          command: |
            tox -e readme
  sphinx:
    docker:
      - image: circleci/python:2.7
    steps:
      - checkout
      - run:
          command: |
            sudo pip install pip setuptools tox virtualenv
      - run:
          command: |
            tox -e sphinx
  tests:
    docker:
      - image: circleci/python:2.7
    steps:
      - checkout
      - run:
          command: |
            sudo pip install pip setuptools tox virtualenv
      - run:
          command: |
            tox -e "py27-dj{18,19,110,111}"

workflows:
  version: 2
  default:
    jobs:
      - flake8
      - readme
      - sphinx
      - tests
